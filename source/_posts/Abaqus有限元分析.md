---
title: Abaqus有限元分析
toc: true
date: 2020-06-25 22:07:58
mathjax: true
tags: [Abaqus]
categories:
- 材料
---


# 接触
<!--more-->
## ABAQUS中的两种接触方式
### 小滑移（两接触面之间只有很小的滑动）
分析的开始就确定了从面节点和主面的哪一部分发生接触，在整个分析过程中，这种接触关系不再发生变化。小滑移的计算代价小于有限滑移。
### 有限滑移（两个接触面之间任意滑动）
要求主面是光滑的，否则会出现收敛问题

## 接触属性的定义
1.法向作用：ABAQUS中的接触压力和间隙的关系默认是“硬接触”，即接触面之间能够传递的接触压力大小不受限制，当接触压力为负或零时，接触面发生分离。

## 定义两接触面的距离
通过ADJUST关键字定义。小于ADJUST时认为接触

## 过盈接触（CONTACT INTERFERENCE）
过盈量为负值表示过盈接触，正值表示两个面之间存在间隙

## 接触分析中的收敛问题
### MSG文件
`CONTACT CHANGE SUMMARY：1 closures 10 openings`，从面的节点有闭合和开放两种状态。
无法收敛的集中常见情况：

1. 闭合与开放的数目不断减少，但不断出现`1 closures 0 openings`和`0 closures 1 openings`，这种情况无法通过减小时间增量步达到收敛。
2. 闭合与开放时而减小时而增大。这种情况应当减小时间增量步再看。
3. 闭合与开放减小速度慢。调整最大迭代次数。

### 出现收敛问题

1. 检查接触关系，边界条件和约束
View -> ODB View -> 显示连接
2. 消除刚体位移
出现不确定的刚体位移时，在MSG文件中会显示数值奇异警告信息，有时还会显示负特征值警告信息
检查刚体的约束条件
3. 使用绑定约束
如果某一对接触面的接触状态对整个模型的影响不大，或者这一对接触面在整个分析过程中始终密切接触，就可以考虑将他们的接触关系改为绑定约束，从而大大减少计算接触状态所需的迭代。
4. 建立平稳的接触关系
不要在一个增量步施加所有的载荷。
应先定义一个只有很小载荷的增量步，在下一步中再施加真实载荷。
5. 细化网格
一般圆角处至少10个单元
6. 正确定义主面和从面
    - 刚度大、网格粗的为主面
    - 主面在发生接触的部位不要有大的尖角或凹角
    - 如果主面和从面在几何位置上没有发生重叠，则一个面的法向应指向另一个面所在的一侧
    - 如果是有限滑移，在整个分析过程中尽量不要让从面结点落到主面外
7. 使用一阶单元
8. 避免过约束
9. 慎重定义摩擦
10. 减小初始时间增量步
11. 解决震颤问题
    - 确保主面足够大
    - 使用自动过盈接触限度有助于解决震颤
    - 主面足够光滑
    - 如果模型有较长的柔性部件，并且接触压力较小，就应将接触属性设置为软接触。如果只有很少的从面结点和主面接触，就应细化接触面网络，或将接触属性设置为软接触。

> ABAQUS接触问题无法使用多线程进行计算

# 材料非线性

1. 塑性
2. 超弹性
3. 粘弹性（时间硬化模型，应变硬化模型，双曲正弦模型）

# 结构模态分析
动力学分析是将惯性力包含在动力学平衡方程式中：
$$M\ddot{u}+I-f=0$$
其中M是结构质量，$\ddot{u}$是加速度，I是内力，f是外力

无载荷情况下：$M\ddot{u}+I=0$

对于无阻尼系统上式可化为：$M\ddot{u}+Ku=0$，方程解的形式为$u=\phi exp(i\bar{\omega}t)$，将上式代入运动方程中就会得到特征值问题方程$K\phi_i=\lambda M\phi_i$。该系统有n个特征值，此时n是有限元模型的自由度数。$\bar{\omega}_i$是结构的第i阶固有频率，$\phi_i$是相应的第i阶特征向量。

阻尼的设定：
- 直接模态阻尼（定义每阶振型的临界阻尼比）
- Rayleigh阻尼（质量矩阵和刚度矩阵的线性组合）
- 复合阻尼（定义每种材料的临界阻尼比）

模态分析步骤
- **建模**。必须定义密度，只能使用线性单元和线性材料，非线性性质将被忽略。
- **定义分析步**。定义一个线性摄动步的频率提取分析步。模态提取选项和其他选项。
- **施加边界条件，载荷并求解**


# 结构谐响应分析
谐响应分析主要用来确定线性结构在承受持续的周期载荷时的周期性响应。在谐响应分析中的非线性特性将被忽略。

谐响应分析通常用于如下结构的设计与分析：
- 旋转设备的支座、固定装置和部件等
- 受涡流影响的结构，包括涡轮叶片，飞机机翼，桥和塔等。

# 结构多体系统分析
注意：
- 在部件、装配模块或相互作用模块中定义连接单元和约束所需定义的参考点和基准坐标系。
- 在相互作用模块中定义连接属性，连接单元和约束
- 在载荷模块中定义载荷和边界条件，以及连接单元载荷和连接单元边界条件
- 在分析步模块中，默认的输出变量是不包括连接单元的，需要单独进行连接单元的历史输出变量。
- 是否考虑几何非线性

# ABAQUS/Explicit显式分析
## 显示方法与隐式方法的区别
> 所谓**显式**指的是增量步结束时的状态仅依赖于该增量步开始时的位移、速度和加速度，这种方法可以精确的积分常值的加速度。为了使该方法产生精确的结果，要求时间增量要足够小，所以在增量步中的加速度几乎为常数。由于时间增量必须很小，所以需要大量的增量步。
> 由于在显式分析中不需要求解联立方程组，所以每一个增量步的计算成本很低。

显式算法最大优点是有较好的稳定性。

动态显式算法采用动力学方程的一些差分格式(如广泛使用的中心差分法、线性加速度法等),不用直接求解切线刚度,不需要进行平衡迭代,计算速度快,时间步长只要取的足够小,一般不存在收敛性问题。 显式算法不需要迭代,也不需要组集总刚,因此需要的内存也比隐式算法要少。并且数值计算过程可以很容易地进行并行计算,程序编制也相对简单。但显式算法要求质量矩阵为对角矩阵,而且只有在单元级计算尽可能少时速度优势才能发挥, 因而往往采用减缩积分方法,容易激发沙漏模式,影响应力和应变的计算精度。"

静态显式法基于率形式的平衡方程组与Euler向前差分法,不需要迭代求解。由于平衡方程式仅在率形式上得到满足,所以得出的结果会慢慢偏离正确值。为了减少相关误差,必须每步使用很小的增量。这个方法目前应用比较少。

**显式算法和隐式算法比较**

|算法|显式算法|隐式算法|
|----|----|----|
|(01)适用问题 |动力学(动态)| 静力学(静态)|
|(02)阻尼| 人工阻尼 |数值阻尼|
|(03)每步求解方法| 矩阵乘法| 线性方程组|
|(04)大矩阵(总刚)| 否| 是|
|(05)数据存贮量| 小 |大|
|(06)每步计算速度| 快| 慢|
|(07)迭代收敛性| 无| 有|
|(08)确定解| 有确定解| 可能是病态无确定解|
|(09)时步稳定性| 有条件| 无条件|
|(10)时间步| 小| 大|
|(11)计算精度| 低| 高|

显式算法基于动力学方程无需迭代；静态隐式算法基于虚功原理需要迭代。

## ABAQUS/Explicit显式分析解决的问题
- 复杂的接触问题
- 高速动力学事件
- 复杂的后屈曲问题（随着载荷增加，结构的刚度发生剧烈变化）
- 高度非线性的准静态问题（复杂的接触，如锻造、滚压、薄板成型）
- 材料的退化和失效问题（其常导致严重的收敛困难）


# ABAQUS用户子程序
## 编写用户子程序的条件
- 用户子程序不能嵌套，任何用户子程序都不能调用任何其他用户子程序，但可以调用用户自己编写的Fortran子程序和ABAQUS应用程序。当用户编写Fortran子程序时，建议子程序名以K开头，以免和ABAQUS内部程序冲突。
- ABAQUS应用程序必须由用户子程序调用。
- 当用户在用户子程序中利用open打开外部文档时：1.设备号只能选择15～18和大于100的设备号，其余的已经被ABAQUS占用；2.用户需要提供外部文件的绝对路径而不是相对路径。
