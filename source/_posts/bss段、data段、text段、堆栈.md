---
title: bss段、data段、text段、堆栈
toc: true
mathjax: true
date: 2020-07-21 15:24:21
tags:
categories:
- C++
---

每个线程都有一个栈，但一个应用程序通常只有一个堆
<!--more-->
## bss段：
　　bss段（bss segment）通常是指用来存放程序中未初始化的全局变量的一块内存区域。

　　bss是英文Block Started by Symbol的简称。

　　bss段属于静态内存分配。 

  
## data段：
　　数据段（data segment）通常是指用来存放程序中已初始化的全局变量的一块内存区域。

　　数据段属于静态内存分配。 

  
## text段：
　　代码段（code segment/text segment）通常是指用来存放程序执行代码的一块内存区域。

　　这部分区域的大小在程序运行前就已经确定，并且内存区域通常属于只读(某些架构也允许代码段为可写，即允许修改程序)。

　　在代码段中，也有可能包含一些只读的常数变量，例如字符串常量等。 

  
## 堆（heap）：
　　堆是用于存放进程运行中被动态分配的内存段，它的大小并不固定，可动态扩张或缩减。

　　当进程调用malloc等函数分配内存时，新分配的内存就被动态添加到堆上（堆被扩张）；

　　当利用free等函数释放内存时，被释放的内存从堆中被剔除（堆被缩减）。

  
## 栈(stack)：
　　 栈又称堆栈，是用户存放程序临时创建的局部变量，

　　也就是说我们函数括弧“{}”中定义的变量（但不包括static声明的变量，static意味着在数据段中存放变量）。

　　除此以外，在函数被调用时，其参数也会被压入发起调用的进程栈中，并且待到调用结束后，函数的返回值也会被存放回栈中。


